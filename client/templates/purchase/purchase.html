<template name="purchase">

<!-- Main -->
<main>
    <div class="container-pad0">
        <div class="fadeIn">

        {{#if getHayCompra}}

        <div class="col s12">
            <div class="row">
                <div class="col s12 m8 l8">
                    <p class="titulo-seccion">Compras</p>
                </div>

                <!--<div class="col s12 m2 l2">
                    <input type="date" class="datepickerStart" placeholder="Seleccionar fecha de inicio...">
                </div>-->

                <div id='dateEndinput' class="col col s12 m3 l3">
                    <input placeholder='Elegir fecha' type="date" class="datepickerEnd" id="dateEndinput">
                    <label for="dateEndinput">Mostrar compras realizadas antes de esta fecha </label>
                </div>
            </div>
        </div>

        {{#each getPurchase}}

<!--
        <p class="dia-pedido">
            <span colspan="3">{{createdAt}}</span>
            <span>Total pedido: {{total}} &euro;</span>
        </p>
-->

        <table class="purchase-table centered striped leftRight z-depth-3">
            <thead>
                <tr class="dia-pedido">
                    <th colspan="3">{{createdAt}}</th>
                    <th>Total pedido: {{total}} &euro;</th>
                </tr>
                <tr>
                    <th data-field="id">Nombre</th>
                    <th data-field="name">Cantidad</th>
                    <th data-field="price">Precio por unidad (€)</th>
                    <th data-field="subtotal">Subtotal (€)</th>
                </tr>
            </thead>

            <tbody>
                {{#each products}}
                <tr>
                    <td>{{getName proId}}</td>
                    <td>{{quantity}}</td>
                    <td>{{getPrice proId}}</td>
                    <td>{{subtotal}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{/each}}

    <div class="section"></div>
    <div class="section"></div>
    <div class="pTotal">Total gastado: <span class="total">{{getTotal}} &euro;</span></div>
    <div class="section"></div>

    {{else}}

        {{> emptyPurchase}}

    {{/if}}

    </div>
    </div>
</main>

</template>
